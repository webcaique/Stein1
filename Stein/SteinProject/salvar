import React, {useEffect, useState} from "react";
import { View, Text } from "react-native";
import Geolocation from "@react-native-community/geolocation";
import MapView, { PROVIDER_GOOGLE } from 'react-native-maps';

export default function App(){
  const [region, setRegion] = useState();
  useEffect(()=>{
    Geolocation.getCurrentPosition((position)=>{
      let location;
      location = {
        latitude: position.coords.latitude,
        longitude: position.coords.longitude,
        latitudeDelta: 0.0922,
        longitudeDelta: 0.0421,
      }
      setRegion(location);
    }, 
    erro=>console.error(erro),
    {
      enableHighAccuracy: false,
      timeout: 3000,
      maximumAge:1000
    }
    )
  }, [])
  return(
    <View style={{flex:1}}>
     <MapView
       provider={PROVIDER_GOOGLE} // remove if not using Google Maps
       style={{flex:1}}
       region={region}
       showsUserLocation
     >
     </MapView>
   </View>
  )
}